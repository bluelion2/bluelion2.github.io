---
title: '주간회고 11/29 ~ 12/07'
date: 2021-12-07
category: 'essay'
draft: false
---

## 주간회고 11/29 ~ 12/07

<br>

### 회사

#### 1. Vercel 셋팅 관련 이슈들을

- 회사에서 배포 툴로 Vercel을 쓰고 있다. git commit 또는 branch별로 자동 배포가 가능해서 실제 병합전에 확인하기 쉽기도하고, 기능도 단순해서 도입해서 쓰고 있었다. 문제는, CRA등 프론트엔드 프레임워크 또는 라이브러리를 사용해서 만든 프로젝트가 아닌, webpack과 parcel을 통해서 커스텀하게 셋팅해서 배포했을 경우 주소를 입력하고 들어올 경우 리다이렉팅이 안되는 버그가 발견이 되었다.

```
Ex)

Domain이 www.mathflat.com일 경우
`www.mathflat.com`은 잘되고, 내부 route 이동에 문제가 없었지만,
`www.mathflat.com/main`으로 들어올 경우의 vercel 404에러가 보이는 문제였다.

```

- 프론트엔드 단의 에러가 나지 않는점으로 보아 vercel의 문제로 생각했고 적중했다. 프론트엔드 프레임워크(라이브러리)를 사용할 경우, spa의 경우 vercel에서 404 에러가 날 경우 자동으로 /index.html을 보여주게 되어있지만 (aws s3에서는 static index.html 바로 밑에 error.html 설정하는 부분이 있어서 같이 하면 됨.) webpack이나 vite으로 셋팅할 경우 vercel에서 자동으로 해주지 않아서 추가해야 했던 이슈였다. vercel의 셋팅을 커스텀하게 만드는 vercel.json을 새롭게 만들어서 redirects 옵션을 추가하는 방법으로 해결하였다.

<br/>

### 일상

- 특별한 일이 없는 한주 ~
