---
title: '주간회고 01/04 ~ 01/08'
date: 2021-01-10
category: 'essay'
draft: false
---

## 주간회고 01/04 ~ 01/08

### 1. 업무

1. 개발환경 배포 자동화하기

이전 프로젝트와 마찬가지로 aws pipeline으로 s3에 개발환경 배포자동화 셋팅을 해두었다. 스토리북 빌드한 것은 초반부에 해 두었고, 팀원들이 실제 작업해서 병합한 배포브랜치를 추가했는데 살짝 거슬리는 이슈를 몇개 발견했다.

처음으로는 Code Pipeline중 Code build단계에서 JS Heep out of memory 에러메세지가 뜨면서 빌드하다가 뻗어버리는 이슈였다. 과도한 메모리 점유 이슈로 인한 중단인데, 이전에는 딱히 그런적이 없거니와 팀원 각자의 컴퓨터에서는 일어나지 않아서 조금 당황스러웠다. aws codebuild에서 우선 성능을 올려보았지만 소용이 없었다. 관련해서 구글링을 하던 중, 혹시나 프로젝트에서 사용중인 라이브러리에 문제가 있지 않을까 싶어서, 그동안에 깃헙 커밋기록을 뒤저서 일일이 테스트 해보기 시작했다.

프로젝트에서 antd를 추가한 이후부터 문제가 생겼다는것을 알게되었고, webpack 번들사이즈를 체크해 보았더니 프로젝트 전체 용량중 절반 가까이를 차지하고 있었다. 해당 라이브러리를 제거하고 테스트 해본 결과 잘 됨에따라서, antd를 사용하던 컴포넌트들을 대체하는 작업을 다른 팀원이 해주었고, 다시 code pipeline이 작동하게 되었다.

- [issue history](https://github.com/bluelion2/Project-issue-repo/issues/23)

---

CRA를 통해 React 프로젝트를 빌드할 때, Webpack에서 js파일들을 고유한 이름의 파일을 만들어주는데 이게 문제였다. s3는, 같은 이름의 파일일 경우 덮어쓰기를 해주는데, 고유한 이름이다보니 이전 작업해서 빌드한 js파일들이 계속 누적되는 것이였다. 실제로, 같은 셋팅을 해 두었던 이전 프로젝트들을 보니, 자바스크립트 파일들이 전부 남아있었다. 빌드시 recursive 옵션을 주면 s3안에 파일들을 전부 삭제할 수 있다고는 하는데, 빌드를 실패하고 에러메세지가 그리 친절하지 않아서 해결할 수 없었다. 마침 s3를 뒤적거리다가 수명주기 옵션에 대해 알게되었고, 해당 옵션을 일단 적용해서 다음주에 확인해보기로 하였다.

- [issue history](https://github.com/bluelion2/Project-issue-repo/issues/24)

2. 웹 매쓰플랫 - 페르마 페이지 추가 작업

기존 매쓰플랫 서비스에 페이지 3개를 추가하는 작업을 하게되었다. 회사에서 계약을 맺은 `페르마`학원 에 학습지 및 문제를 제공하고, 대신 가맹학원에서 매쓰플랫 서비스를 사용하기로 헀다. 그와 관련해서 페르마에서 제공하는 학습지와 문제를 매쓰플랫 서비스에 노출시키기 위해 전용 페이지를 3개 추가하는데, 기존 일정보다 좀 더 땡겨서 작업을 하기로 결정되어서 프론트 파트를 맡아서 작업했다. 추가로, 현재 작업중인 신규 매쓰플랫 페이지에도 추가를 해야해서, 관련 작업을 일부 해두었다.

### 2. 그 외

1. 깃헙 홈페이지 리뉴얼 하기

처음 개발자로 입문하면서 작업했던 github 홈페이지에서, 좀 더 이쁜걸로 보여지면 좋을것 같아 리뉴얼 작업을 했다. Gatsby를 이용해서 수요일날 작업을 했는데, 배포 및 몇몇 이슈가 있어서 starter template으로 바꾸어서 작업을 했다.

기존 글들을 다 옮기고 배포를 하다가 Github access 관련 이슈가 있었지만, git remote 관련해서 재설정하고 쉽게 처리했다.

- [gatsby-starter-bee](https://github.com/JaeYeopHan/gatsby-starter-bee)
