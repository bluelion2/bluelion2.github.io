---
title: '주간회고 05/02 ~ 05/08'
date: 2022-05-08
category: 'essay'
draft: false
---

## 주간회고 05/02 ~ 05/08

### 회사

#### 1. Github action을 통한 자동화 정리

feature 단위의 작업을 할 때, 디자이너분들이 작업 중간에 확인할 수 있는 방법에 대해서 요청하셨다. 다 만든 다음에 뭔가 맘에 안들면 다시 만들어달라 요청하기 애매한 입장과, 개발자가 실수 할 수 있는 부분을 미연에 방지하기 위해서 중간에 확인할 수 있는 방법을 제공하는 것에 동의했다. 다행히 팀에서 CI/CD로 쓰고 있는 Vercel은 branch 를 딴 뒤, commit 마다 자동으로 Preview를 배포 해주고 있어서 쉽게 할 수 있으리라 생각했다.

<br/>

하다보니 불편한 점들이 발견되었다. 우선 매번 손수 url을 긁어다가 슬랙으로 주고받는 일이 많았다. Preview Url은 자동으로 만들어주는데, 만들어지는 것은 일일이 긁어서 전달해주니 여간 귀찬은 일이 아니었다. 또한 commit 별로 배포를 하다보니, 이전에 배포해준 주소가 현재 작업물과 일치하리라는 보장이 없었다. 다행히도 PR을 올리면 Vercel에선 해당 PR Preview url을 PR comment로 달아주는 기능이 있었다. 이 url은 pr 이후에 커밋을 남겨도 변하지 않아서, 해당 url을 공유하는 방법을 선택했다.

<br/>

팀 내에서는 Jira를 통해서 작업 내역을 공유하고 있었는데, 여기에 url을 댓글로 추가하면 슬랙 알림도 오게 되어서 잘 볼수 있지 않나 싶었다. 따라서, Vercel이 Preview url을 생성할 때 github action을 실행시켜서 jira에 댓글을 자동으로 달아주는 자동화 작업을 만들게 되었다.

최종적으로는 이렇게 되었다.

<div style="text-align: center;">
<img style="max-width: 600px;" alt="flow" src="https://user-images.githubusercontent.com/34129711/167281325-bd251fce-4cc8-47b1-a2b5-d64776435a0e.png">
</div>

- Github Action
- Jira Rest Api(v3)

---

#### 회고

- Github Action에 대해서 처음 써봤는데, 무료인 점과 해당 프로젝트에 담겨 있기 때문에 관리 차원에서 괜찬았다. 조금 더 문서를 살펴보고 사용하는 방법에 대해 정리를 해봐야겠다.
- Jira Rest Api는 처음에는 당황스러웠다. 서비스별로 api 문서가 다르다보니 처음에는 서로 적용이 안되는줄 알았다. 게다가 테스트하는 중에 Api 토큰이 갑자기 사라지는 이슈도 발견되어서 꽤나 당황스러웠다. 토큰이 사라지는 이유에 대해서는 나중에 알게 되었지만..
- jira rest api를 쓰지 않고 jira Automation으로도 쓸수 있는 작업들이 많이 있다. issue의 상태 변경이나 slack noti 등 이것저것 시도해보니 재미있었고, 좀 더 발전시키면 팀 생산성 향상에 도움이 될 듯하다. issue에 멘션 또는 댓글이 달리면, 담당자에게 slack DM을 꽂아주는 기능도 개발해달라고 하는데, 이건 좀 더 살펴봐야 할 듯 하다.
- [Workflow 정리](https://seunghun89.notion.site/Design-Review-4712291a762d4d4da683f5e14ecc1e86)

---

### 일상

#### 1. 망원동 집 알아보기

토요일에 망원동에서 집 하나를 봤는데, 꽤 괜찬아 보였다. 장단점이 너무 뚜렷해서 고민중이다. 4층에 방보다 큰 테라스도 있고 망원동이라는 점이 장점이지만, 반대로 집이 지금보다 3평정도 작고 보증금을 1천정도 더 올려야 하는 상황이다. 4층이라 사다리차를 사용해야 하는건 덤이고.. 중도 퇴실이다보니 입주일자도 좀 넉넉히 잡고 싶은데 쉽지는 않을듯 하다. 다음주중에 한번 더 보고 결정하기로 했다.
