---
title: '주간회고 12/18 ~ 12/25'
date: 2022-12-25
category: 'essay'
draft: false
---

### 주간회고 12/18 ~ 12/25

---

#### 1. CMS 프로젝트(new)

이번달 초부터 시작한 새 CMS 프로젝트 QA를 하고 있다. 새롭게 프로젝트를 파서 진행하면서, 개선하지 않는 일부 프로젝트에 대해서는 iframe을 통해 인증정보를 공유하면서 보여주고, 새로운 또는 개선되는 기능만 개발해서 배포하고 있다.
실제 사용하는 컨텐츠팀이 QA를 해주고 있는데, 다행히 큰 이슈는 없는 듯 하다. 대신에 이전에 쓰면서 불편한점이나 개선사항으로 많이 이슈가 넘어오는데(Ex - 엑셀 변환이라던지) 최대한 작업해서 올려주고 있다. 다음주 수요일에 domain도 바꾸는 등 작업이 많은데, 배포시 필요한 작업들에 대해서 리스트를 정리를 해야겠다

<br/>

---

#### 2. History State

새로고침등을 할 때에는 `window.onbeforeunload`를 이용해서 잡으면 되지만, history 를 이용한 route 이동시에는 잡을 수 없기 때문에, 사용자가 편집을 하다가 이전으로 갔다 돌아오면 날라가는 문제가 있었다. 브라우저의 back 버튼으로 이동시, 경고를 보여주는 기능이 필요했다.

<br/>

React Router 내부에서는 `HTML5 history` 를 이용해서 Route 이동을 하는데, 브라우저의 뒤로가기 버튼 클릭시 `POP` 으로 이동시킨다. boolean, string function 중 function을 인자로 주면, 내부에서 또 boolean, string, void return을 통해 이동할 지를 판단한다. 내 경우에는 특정 View에서만 뒤로가기 할 때, 한번 차단하고 경고 모달을 띄워주면 되서 뒤로가는 모든 이벤트를 차단하고 경고를 띄운뒤, 확인을 누른 경우에만 뒤로가기로 이동시켜 요구사항을 만족시킬 수 있었다.

<div style="text-align:center">
<img src="https://user-images.githubusercontent.com/34129711/209527240-fa9e022b-1404-4f4d-9579-1299f2acb07c.gif" alt="gif" />
</div>
